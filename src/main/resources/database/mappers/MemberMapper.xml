<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.semi.main.member.MemberDAO">

<!-- login -->
	<select id="getLogin" resultMap="getLoginResult" parameterType="MemberDTO">
	SELECT M.*, MR.*, R.*
	FROM MEMBER M 
	LEFT OUTER JOIN PROFILE P
	ON (M.USERNO = P.USERNO)
	LEFT OUTER JOIN MEMBERROLE MR
	ON (M.USERNO = MR.USERNO)
	LEFT OUTER JOIN ROLE R
	ON (R.GRANTNO = MR.GRANTNO)
	WHERE M.USERID = #{userId} AND USERPW=#{userPw}
	</select>
	
<!-- JOIN Mapping -->	
	<resultMap type="MemberDTO" id="getLoginResult">
		<id column=""></id>
	
	
	</resultMap>
	
	
	
</mapper>