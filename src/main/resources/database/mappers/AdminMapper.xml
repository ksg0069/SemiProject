<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
  <mapper namespace="com.semi.main.admin.AdminDAO">
  <sql id="searchSql">
  	WHERE USERNO>0
  		<if test="kind == 'userId'">
  		AND USERID LIKE '%'||#{search}||'%'
  		</if>
  		<if test="kind == 'email'">
  		AND EMAIL LIKE '%'||#{search}||'%'
  		</if>
  		<if test="kind == 'phone'">
  		AND PHONE LIKE '%'||#{search}||'%'
  		</if>	
  </sql>
  	<insert id="a"></insert>
  	<update id="b"></update>
  	<delete id="c"></delete>
  	
  	<select id="memberList" resultType="MemberDTO">
		SELECT * FROM MEMBER
		<include refid="searchSql"></include> 		
  	</select>
  	
  	<select id="getTotal" parameterType="Pager" resultType="Long">
  		SELECT COUNT(USERNO) FROM MEMBER
  		<include refid="searchSql"></include>
  	</select>
  
  </mapper>